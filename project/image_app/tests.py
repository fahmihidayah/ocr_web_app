from django.test import TestCase
from .models import Image

# Create your tests here.


class ModelTestCase(TestCase):
    
    def setUp(self) -> None:
        self.image: Image = Image.objects.create(title='test', text='[([[0,0],[248,0],[248,90],[0,90]],\'\',0.0),([[99,148],[318,148],[318,178],[99,178]],\'ERINCTIILAII\',0.005412749949380387),([[45,169],[399,169],[399,211],[45,211]],\'UL OANAUAERINCLEIAI3\',0.1855223638835718),([[44,199],[287,199],[287,244],[44,244]],\'KEDUNGKANCANG\',0.49586723222256807),([[561,191],[780,191],[780,255],[561,255]],\'Chdmmwog\',0.13996363697327757),([[44,233],[163,233],[163,270],[44,270]],\'NALANG\',0.4689794984570023),([[176,240],[342,240],[342,270],[176,270]],\'JAWA TIMLR\',0.48216431834446005),([[44,265],[267,265],[267,303],[44,303]],\'NPWP0 SU8 094\',0.295629314786905),([[290,273],[389,273],[389,305],[290,305]],\'62UUU\',0.30377231364269613),([[43,360],[790,360],[790,417],[43,417]],\'DANAU KERINCI SELATAN_MALANG 08113688436\',0.9320807816616913),([[121,413],[173,413],[173,455],[121,455]],\'J\',0.10758126891534303),([[194,408],[506,408],[506,456],[194,456]],\'DANAU KERINCI NO\',0.5844679101901775),([[547,415],[719,415],[719,459],[547,459]],\'SAWOJAJAF\',0.7208356378885804),([[82,457],[416,457],[416,508],[82,508]],\'KEC KEDUNGKANDANG\',0.7340417267585123),([[438,458],[653,458],[653,510],[438,510]],\'KOTA MALANG\',0.8257261452061976),([[673,461],[775,461],[775,505],[673,505]],\'65139\',0.9986285973095301),([[26,547],[526,547],[526,600],[26,600]],\'04.11.22-08:49/2.2.22/FICA\',0.6348183611947519),([[552,544],[835,544],[835,599],[552,599]],\'141501/MLHAM/02\',0.23537937901276776),([[28,642],[416,642],[416,694],[28,694]],\'IDM GULA ARN STK 203\',0.4397460408629796),([[553,641],[635,641],[635,685],[553,685]],\'9800\',0.6393180200835888),([[716,638],[820,638],[820,688],[716,688]],\'9,600\',0.6579294771595527),([[405,727],[602,727],[602,782],[405,782]],\'HARGA JUAL\',0.4594868712721658),([[718,728],[822,728],[822,776],[718,776]],\'9,800\',0.9458942163747844),([[502,822],[602,822],[602,870],[502,870]],\'TOTAL\',0.9392558200638782),([[718,818],[826,818],[826,866],[718,866]],\'9,800\',0.8572321435481417),([[503,869],[601,869],[601,913],[503,913]],\'TUNAI\',0.9918839871213061),([[705,865],[825,865],[825,909],[705,909]],\'10,000\',0.9988904107815154),([[462,909],[605,909],[605,962],[462,962]],\'KEMBALI\',0.9936112298065589),([[759,911],[825,911],[825,955],[759,955]],\'200\',0.9999878867191166),([[39,969],[107,969],[107,1011],[39,1011]],\'PPN\',0.9810401128415392),([[224,958],[586,958],[586,1012],[224,1012]],\'DPP= 8,829 PPN- 971\',0.20823216078802748),([[117,1004],[584,1004],[584,1056],[117,1056]],\'LAYANAN KONSUMEN SMS 0811\',0.620071375473685),([[598,1002],[754,1002],[754,1050],[598,1050]],\'1500 280\',0.8585190911508878),([[81,1055],[331,1055],[331,1099],[81,1099]],\'CALL  1500 280\',0.43978976501366623),([[372,1046],[792,1046],[792,1102],[372,1102]],\'KONTAK@INDOMARET .C0 . I0\',0.36090707276955514)]')


    def test_extract_text(self):
        text_list = self.image.text.split('),')
        for item in text_list:
            print(item)